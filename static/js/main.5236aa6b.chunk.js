(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{39:function(e,t,a){},78:function(e,t,a){},8:function(e,t){e.exports={key:"ba14759b54990c5f13cc72144855167f",base:"https://api.openweathermap.org/data/2.5/"}},80:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(11),s=a.n(i),r=(a(39),a.p+"static/media/branding copy.62c481d4.png"),o=a(0);var l=function(){return Object(o.jsx)("div",{"data-testid":"Nav",className:"Nav",children:Object(o.jsx)("nav",{children:Object(o.jsx)("a",{href:"/",alt:"home link",children:Object(o.jsx)("img",{className:"brandLogo",src:r,alt:"brand logo"})})})})},d=a(17),u=a.n(d),h=a(26),j=a(27),b=a(7),m=a(33),p=a(32),O=a(8),x=a.n(O),v=a(28),g=a.n(v),y=a(5),f=a(29),w=a.n(f),N=a(13),k=a.n(N),S=a(30),C=a.n(S);var D=function(){var e=(new Date).getFullYear();return Object(o.jsx)("div",{"data-testid":"Footer",className:"footer",children:Object(o.jsxs)("p",{children:["Mervyn Levis ",e," "]})})};var F=function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],i=a[1],s=Object(n.useState)(""),r=Object(y.a)(s,2),l=r[0],d=r[1],u=Object(n.useState)(""),h=Object(y.a)(u,2),j=h[0],b=h[1],m=Object(n.useState)({}),p=Object(y.a)(m,2),O=p[0],v=p[1],g=function(e){w.a.get("".concat(x.a.base,"weather?q=").concat("[object Object]"!=e?e:c,",").concat(l,"&units=metric&APPID=").concat(x.a.key)).then((function(e){v(e.data),i(""),d("")})).catch((function(e){console.log(e),v(""),i(""),d(""),b({message:"Not Found",query:c})}))},f="white",N=112,S=!0;return Object(n.useEffect)((function(){g("Cork")}),[]),Object(o.jsxs)("div",{"data-testid":"searchedForecast",className:"forecast",children:[Object(o.jsx)("div",{className:"forecast-icon",children:Object(o.jsx)(k.a,{icon:e.icon,color:f,size:N,animate:S})}),Object(o.jsxs)("div",{className:"today-weather",children:[Object(o.jsx)("h3",{children:e.weather}),Object(o.jsxs)("div",{className:"search-box",children:[Object(o.jsx)("input",{type:"text",className:"search-bar",placeholder:"Search City",onChange:function(e){return i(e.target.value)},value:c}),Object(o.jsx)("input",{type:"text",className:"search-bar",placeholder:"Country Code",onChange:function(e){return d(e.target.value)},value:l}),Object(o.jsxs)("div",{className:"img-box",children:[" ",Object(o.jsx)(C.a,{className:"img-box",onClick:g})]})]}),Object(o.jsx)("ul",{children:"undefined"!=typeof O.main?Object(o.jsxs)("div",{children:[" ",Object(o.jsxs)("li",{className:"cityHead",children:[Object(o.jsxs)("p",{children:[O.name,", ",O.sys.country]}),Object(o.jsx)("img",{className:"temp",src:"https://openweathermap.org/img/wn/".concat(O.weather[0].icon,".png"),alt:"weather logo"})]}),Object(o.jsxs)("li",{children:["Temperature"," ",Object(o.jsxs)("span",{className:"temp",children:[Math.round(O.main.temp),"\xb0c (",O.weather[0].main,")"]})]}),Object(o.jsxs)("li",{children:["Humidity"," ",Object(o.jsxs)("span",{className:"temp",children:[Math.round(O.main.humidity),"%"]})]}),Object(o.jsxs)("li",{children:["Visibility"," ",Object(o.jsxs)("span",{className:"temp",children:[Math.round(O.visibility)," mi"]})]}),Object(o.jsxs)("li",{children:["Wind Speed"," ",Object(o.jsxs)("span",{className:"temp",children:[Math.round(O.wind.speed)," Km/h"]})]})]}):Object(o.jsxs)("li",{children:[j.query," ",j.message]})})]}),Object(o.jsx)(D,{})]})},M=a.p+"static/media/loader.d4a3a029.gif",L=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()],a=e.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],c=e.getFullYear();return"".concat(t,", ").concat(a," ").concat(n," ").concat(c)},W="white",A=112,P=!0,I=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={lat:void 0,lon:void 0,errorMessage:void 0,temperatureC:void 0,temperatureF:void 0,city:void 0,country:void 0,humidity:void 0,description:void 0,icon:"CLEAR_DAY",sunrise:void 0,sunset:void 0,errorMsg:void 0},e.getPosition=function(e){return new Promise((function(t,a){navigator.geolocation.getCurrentPosition(t,a,e)}))},e.getWeather=function(){var t=Object(h.a)(u.a.mark((function t(a,n){var c,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(x.a.base,"weather?lat=").concat(a,"&lon=").concat(n,"&units=metric&APPID=").concat(x.a.key));case 2:return c=t.sent,t.next=5,c.json();case 5:i=t.sent,e.setState({lat:a,lon:n,city:i.name,temperatureC:Math.round(i.main.temp),temperatureF:Math.round(1.8*i.main.temp+32),humidity:i.main.humidity,main:i.weather[0].main,country:i.sys.country,feels_like:Math.round(i.main.feels_like),visibility:i.visibility,wind_speed:i.wind.speed}),t.t0=e.state.main,t.next="Haze"===t.t0?10:"Clouds"===t.t0?12:"Rain"===t.t0?14:"Snow"===t.t0?16:"Dust"===t.t0?18:"Drizzle"===t.t0?20:"Fog"===t.t0?22:"Smoke"===t.t0?24:"Tornado"===t.t0?26:28;break;case 10:return e.setState({icon:"CLEAR_DAY"}),t.abrupt("break",29);case 12:return e.setState({icon:"CLOUDY"}),t.abrupt("break",29);case 14:return e.setState({icon:"RAIN"}),t.abrupt("break",29);case 16:return e.setState({icon:"SNOW"}),t.abrupt("break",29);case 18:return e.setState({icon:"WIND"}),t.abrupt("break",29);case 20:return e.setState({icon:"SLEET"}),t.abrupt("break",29);case 22:case 24:return e.setState({icon:"FOG"}),t.abrupt("break",29);case 26:return e.setState({icon:"WIND"}),t.abrupt("break",29);case 28:e.setState({icon:"CLEAR_DAY"});case 29:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?this.getPosition().then((function(t){e.getWeather(t.coords.latitude,t.coords.longitude)})).catch((function(t){e.getWeather(53.34,-6.26),alert("Location Services Disabled. Please allow location access to use this app.")})):alert("Geolocation not available"),this.timerID=setInterval((function(){return e.getWeather(e.state.lat,e.state.lon)}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){return this.state.temperatureC?Object(o.jsxs)(c.a.Fragment,{children:[Object(o.jsxs)("div",{"data-testid":"userLocationWeather",className:"city",children:[Object(o.jsxs)("div",{className:"title",children:[Object(o.jsxs)("h2",{children:[this.state.city,", ",this.state.country]}),Object(o.jsxs)("h3",{children:["Feels Like: ",this.state.feels_like,"\xb0c"]}),Object(o.jsxs)("h4",{children:["Humidity: ",this.state.humidity,"%"]}),Object(o.jsxs)("h4",{children:["Visibility: ",this.state.visibility," mi"]}),Object(o.jsxs)("h4",{children:["Wind Speed: ",this.state.wind_speed," Km/h"]})]}),Object(o.jsxs)("div",{className:"mb-icon",children:[" ",Object(o.jsx)(k.a,{icon:this.state.icon,color:W,size:A,animate:P}),Object(o.jsx)("p",{children:this.state.main})]}),Object(o.jsxs)("div",{className:"date-time",children:[Object(o.jsxs)("div",{className:"dmy",children:[Object(o.jsx)("div",{id:"txt"}),Object(o.jsx)("div",{className:"current-time",children:Object(o.jsx)(g.a,{format:"HH:mm",interval:1e3,ticking:!0})}),Object(o.jsx)("div",{className:"current-date",children:L(new Date)})]}),Object(o.jsx)("div",{className:"temperature",children:Object(o.jsxs)("p",{children:[this.state.temperatureC,"\xb0c"]})})]})]}),Object(o.jsx)(F,{icon:this.state.icon,weather:this.state.main})]}):Object(o.jsx)(c.a.Fragment,{children:Object(o.jsxs)("div",{"data-testid":"LoadingCurrentLocation",className:"loadingPage",children:[Object(o.jsx)("img",{src:M,alt:"loading icon",style:{width:"5%",WebkitUserDrag:"none"}}),Object(o.jsx)("h3",{style:{color:"white",fontSize:"22px",fontWeight:"600"},children:"Detecting your location"}),Object(o.jsx)("h3",{style:{color:"white",marginTop:"10px"},children:"Location will be displayed with weather..."})]})})}}]),a}(c.a.Component);a(78);var T=function(){return Object(o.jsxs)(c.a.Fragment,{children:[Object(o.jsx)(l,{}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(I,{})})]})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,92)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(T,{})}),document.getElementById("root")),_()}},[[80,1,2]]]);
//# sourceMappingURL=main.5236aa6b.chunk.js.map